*** Settings ***
Documentation     THIS CONTEXT FILE WORKING WITH AUTOMATED TEST SYSTEM
Resource          ../env/default.txt
Resource          actions.txt

*** Variables ***
#- CONTEXT VARIABLES ---
${_AGENT}         /
${_LOGIN}         /
${_CURRENT_TIMESTAMP_}    /
${_WORKING_DIR}    /
${_CONN_STRING}    /
${_CONN_STRING_AT}    /
${_JAR}           /
${_CLASS}         /
${_DB_NAME}       /
${_DB_NAME_AT}    /
${_SERVER}        /
${_DB_USERNAME}    /
${_DB_USERNAME_AT}    /
${_DB_PASSWORD}    /
${_DB_PASSWORD_AT}    /
${_INTRVL}        /
${_RETRY}         /
${_ROLE_NAME}     /

*** Key Words ***
Init Agent
    [Documentation]    Requirement
    Run Keyword If    '${ENV}' == 'VVNARASQL04' and '${APP}' == 'MSSQL2012'    Init MSSQL 2012
    Run Keyword If    '${ENV}' == 'VVNARASQL04' and '${APP}' == 'MSSQL2008'    Init MSSQL 2008
    Run Keyword If    '${ENV}' == 'VVNFIBOTOOL01' and '${APP}' == 'MSSQL2008R2'    Init MSSQL 2008 R2
    Run Keyword If    '${ENV}' == 'VVNFIBOTOOL01' and '${APP}' == 'MSSQL2005'    Init MSSQL 2005

Suite Setup
    Action Connect    ${_AE_HOST}    ${_AE_PORT}    ${_AE_USER}    ${_AE_PASS}    ${_AE_TEMP_FOLD}
    Init Server
    Run Keyword If    '${OS}' == 'UNIX11'    Init Unix Server 11

Init MSSQL 2005
    [Documentation]    TODO: Write server description here
    Set Global Variable    ${_AGENT}    VVNFIBOTOOL01
    Set Global Variable    ${_LOGIN}    UC4_RL.LOGIN.ALL
    Set Global Variable    ${_WORKING_DIR}    C:/Automic/Agents/windows/temp
    Set Global Variable    ${/}    \\
    Set Global Variable    ${_DB_USERNAME}    DEV
    Set Global Variable    ${_DB_PASSWORD}    DEV
    Set Global Variable    ${_CONN_STRING}    jdbc:sqlserver://VVNFIBOTOOL01\SQLSERVER2005:1433;databaseName=master
    Set Global Variable    ${_JAR}    file:///C:/Automic/Agents/windows/bin/sqljdbc4.jar
    Set Global Variable    ${_CLASS}    com.microsoft.sqlserver.jdbc.SQLServerDriver
    Set Global Variable    ${_INTRVL}    10
    Set Global Variable    ${_RETRY}    5
    Set Global Variable    ${ERROR_CODE}    12
    Set Global Variable    ${_SERVER}    VVNFIBOTOOL01\SQLSERVER2005
    Set Global Variable    ${DB_USERNAME1}    TEST
    Set Global Variable    ${ROLE_NAME}    db_datawriter
    Set Global Variable    ${_DB_NAME}    DEV_MSSQL

Init MSSQL 2008
    [Documentation]    TODO: Write server description here
    Set Global Variable    ${_AGENT}    VVNARASQL04
    Set Global Variable    ${_LOGIN}    UC4_RL.LOGIN.ALL
    Set Global Variable    ${_WORKING_DIR}    C:/Automic/Agents/windows/temp
    Set Global Variable    ${/}    \\
    Set Global Variable    ${_DB_USERNAME}    DEV
    Set Global Variable    ${_DB_PASSWORD}    DEV
    Set Global Variable    ${_CONN_STRING}    jdbc:sqlserver://VVNARASQL04\SQLEXPRESS:1433;databaseName=master
    Set Global Variable    ${_JAR}    file:///C:/Automic/Agents/windows/bin/sqljdbc4.jar
    Set Global Variable    ${_CLASS}    com.microsoft.sqlserver.jdbc.SQLServerDriver
    Set Global Variable    ${_INTRVL}    10
    Set Global Variable    ${_RETRY}    5
    Set Global Variable    ${ERROR_CODE}    12
    Set Global Variable    ${_SERVER}    VVNARASQL04\SQLEXPRESS
    Set Global Variable    ${DB_USERNAME1}    TEST
    Set Global Variable    ${ROLE_NAME}    db_datawriter
    Set Global Variable    ${_DB_NAME}    DEV_MSSQL

Init MSSQL 2008 R2
    [Documentation]    TODO: Write server description here
    Set Global Variable    ${_AGENT}    VVNFIBOTOOL01
    Set Global Variable    ${_LOGIN}    UC4_RL.LOGIN.ALL
    Set Global Variable    ${_WORKING_DIR}    C:/Automic/Agents/windows/temp
    Set Global Variable    ${/}    \\
    Set Global Variable    ${_DB_USERNAME}    DEV
    Set Global Variable    ${_DB_PASSWORD}    DEV
    Set Global Variable    ${_CONN_STRING}    jdbc:sqlserver://VVNFIBOTOOL01:1433;databaseName=master
    Set Global Variable    ${_JAR}    file:///C:/Automic/Agents/windows/bin/sqljdbc4.jar
    Set Global Variable    ${_CLASS}    com.microsoft.sqlserver.jdbc.SQLServerDriver
    Set Global Variable    ${_INTRVL}    10
    Set Global Variable    ${_RETRY}    5
    Set Global Variable    ${ERROR_CODE}    12
    Set Global Variable    ${_SERVER}    VVNFIBOTOOL01
    Set Global Variable    ${DB_USERNAME1}    TEST
    Set Global Variable    ${ROLE_NAME}    db_datawriter
    Set Global Variable    ${_DB_NAME}    DEV_MSSQL

Init MSSQL 2012
    [Documentation]    TODO: Write server description here
    Set Global Variable    ${_AGENT}    VVNARASQL04
    Set Global Variable    ${_LOGIN}    UC4_RL.LOGIN.ALL
    Set Global Variable    ${_WORKING_DIR}    C:/Automic/Agents/windows/temp
    Set Global Variable    ${/}    \\
    Set Global Variable    ${_DB_USERNAME}    DEV
    Set Global Variable    ${_DB_USERNAME_AT}    AT
    Set Global Variable    ${_DB_PASSWORD}    DEV
    Set Global Variable    ${_DB_PASSWORD_AT}    AT
    Set Global Variable    ${_CONN_STRING}    jdbc:sqlserver://VVNARASQL04:1433;databaseName=DEV_MSSQL
    Set Global Variable    ${_CONN_STRING_AT}    jdbc:sqlserver://VVNARASQL04:1433;
    Set Global Variable    ${_JAR}    file:///C:/Automic/Agents/windows/bin/sqljdbc4.jar
    Set Global Variable    ${_CLASS}    com.microsoft.sqlserver.jdbc.SQLServerDriver
    Set Global Variable    ${_INTRVL}    10
    Set Global Variable    ${_RETRY}    5
    Set Global Variable    ${ERROR_CODE}    12
    Set Global Variable    ${_SERVER}    VVNARASQL04
    Set Global Variable    ${DB_USERNAME1}    TEST
    Set Global Variable    ${ROLE_NAME}    db_datawriter
    Set Global Variable    ${_DB_NAME}    DEV_MSSQL
    Set Global Variable    ${_DB_NAME_AT}    ATDB
